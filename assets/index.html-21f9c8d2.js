import{_ as i}from"./plugin-vue_export-helper-c27b6911.js";import{r as p,o as l,c as o,a as n,b as s,d as e,f as t}from"./app-f4ba14bb.js";const c="/tdy-blogs/assets/image-20230410145407940-552a1e30.png",r="/tdy-blogs/assets/image-20230410145605696-c2dbc7c2.png",d="/tdy-blogs/assets/image-20230410150048918-1100d9c9.png",u="/tdy-blogs/assets/image-20230410163710284-59df1c92.png",m="/tdy-blogs/assets/image-20230410165619195-24f3453a.png",k="/tdy-blogs/assets/image-20230410165832562-2a05e816.png",v="/tdy-blogs/assets/image-20230410171136267-2fea43a9.png",b="/tdy-blogs/assets/image-20230410174050379-6ca6b3c3.png",g="/tdy-blogs/assets/image-20230410180030398-4fa2540b.png",h="/tdy-blogs/assets/image-20230410212832725-1df562a3.png",f="/tdy-blogs/assets/image-20230410221435947-67b67c7a.png",x="/tdy-blogs/assets/image-20230410221922604-ecb0392c.png",y="/tdy-blogs/assets/image-20230410222034072-92582165.png",_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI4AAAAmCAIAAACd0DTcAAAE8klEQVR4nO2ZUUgbdxzHvxl9WLAERKfrnXbV0b6MCsvBKD4MNtkeRifmIWUpRdBZU2hxrS8FwTGWl8nAtLI+5KUPYeTGArnAxIeodSykOjDKYkJFbJeZXkyyaMjRJr7993BRo7lLrpexeuM+T5fv/f6//y//b/73u9wZCCHQ0QJvvO4CdJSiW6UZdKs0g26VZtCt0gzSVgmC4Ha7BUFQksJ/BYwBjAH+57IxEQcYA5xL6oo8xGkozRWRCdhhSwFfsfXOddKotqv8fn9NtyIOLFgQJggvwjGKHZmY+U8wbq1VS8o7OOj9u0o9V4BFhAkCHgw4pGPcHAIE4QRwVdZOjSJtlclk6uvrgwK35r/GlzYA8E8CXvBSMV3juHOp7kqfYwHovwQA7qvAmvTP4s7PaALQhnN1T3jSkN1VJpOpp6dHEIT5+fkaOZbAGPDnKMateCZ/DaxGyjvYeb6je2zh17EPOs93dH63IhPIs2AM6EjgmszPQmSHRdyDLlW1nFhOyZ0QBIHjOJPJZLFYqqcYmESAoAnwA51tqqp42/rwmRUp7+AYJh5a35IL82LgIsIEAJxW0DJROyw+3UR4XFUlJxjpXcXzvNvtpmm6v7+/+vieb3FtFE0AluDA/vIt/Ts3EUdow0dWjA8AwA6LHy+iCaXj8juaiOP/6RMAECny+fzc3JzkqUomQcwgZpA/DqRFYgaZXCx9ynpKAWYQs5VkFeatJEFGKpKIybnE0QAQM8iIR/VMJxED0R/XagT9L7Bm0K3SDLpVmkG3SjPoVmkG3SrNoFulGXSrNINulWao36o0Z2dpmqVpjtuWjsj4OZpmaZql7Y8zsqNiU2IMPRuGYmVltpT5Xgx1KAcVXven61Aqv5QSBQDC98q/pgxyT5wKhUI0Gt3d3a3+YGrZ6RniUoQQEg5Qw6G0suCKUSnfsOd+mBBC0pyPckaJEiUZGqICy4QcnlKnHFYevU/5fEmVSuVSKFFKx86Qb1isShbpXVUsFmOxWC6Xq24zEAt933yjrxVIc64spl8mag24eLZVYtT20xm884UZQOynm3t4ks8oUJ78nsaDLgbASuTWNNa20hlVSvi37F17dwuQ8W9MYC+xDVVK5VIoUYDtx9ddDau33621clIXQNGnvb09hmEaGxsTiUShUKiWY2WWph8l7B//cPnFlvQ1sLTre9E1YpYalQGAhJ+j6Y325a67+5ZXV3gAyHJ2lnY1rP7SPBPPQr0Sm6LZ9+MXVh+8ubaVVqW8kF6KGkqa++blDVd3S7X1LSFhlbifGIYxGo3FYnF9fT0ej8tnyPa6GlZ524gZwOmzZyRjWi0uG8/b+A+T++3h6KgWYPqv3vgFnrdYzgCXG9pRW6GBmZuRhN3Gu7pbgM/ONUOtMvH5Rvuyjb/9Hkr7XoVyWmopainbkVvT2V6apelH4sGU3PtvSPUqsUsFg0GxUeVyuertR+wfxy++1L5eTjhAOaNSo1K+YZ8veawz1VKSoaHSjGV9SIWyX9WRPvTqSuVSKFH2SdXsVdK3FYVCYXNzMxgM8jxfdbhYqIeiPBRVNtNRq5adYoCnrLiKUcnQ0LEYBUqa84mZS71arXJQYWXNr6JULoUSRaS2VbKvFovFYjKZpCjKaDTK70md/w79LbBm0J9WaAbdKs1wKp/Pv+4adBSh9yrNoF8ANYNulWb4BwYaJQRqG3gSAAAAAElFTkSuQmCC",A={},w=n("h1",{id:"js关于双精度浮点型知识",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#js关于双精度浮点型知识","aria-hidden":"true"},"#"),s(" js关于双精度浮点型知识")],-1),j=n("h2",{id:"仓库地址",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#仓库地址","aria-hidden":"true"},"#"),s(" 仓库地址")],-1),q={href:"https://github.com/Tandayuan/js-float-study",target:"_blank",rel:"noopener noreferrer"},E=n("h2",{id:"参考资料",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#参考资料","aria-hidden":"true"},"#"),s(" 参考资料")],-1),V={href:"https://juejin.cn/post/6927217000112455687",target:"_blank",rel:"noopener noreferrer"},S={href:"https://juejin.cn/post/6860445359936798734",target:"_blank",rel:"noopener noreferrer"},Y={href:"https://www.sojson.com/hexconvert.html",target:"_blank",rel:"noopener noreferrer"},U={href:"https://www.toolhelper.cn/Digit/FractionConvert",target:"_blank",rel:"noopener noreferrer"},I=t('<h2 id="学习目标" tabindex="-1"><a class="header-anchor" href="#学习目标" aria-hidden="true">#</a> 学习目标</h2><ul class="task-list-container"><li class="task-list-item"><p><input type="checkbox" class="task-list-item-checkbox" id="task-item-0" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-0"> 学习字节、字、位、比特的概念和关系</label></p></li><li class="task-list-item"><p><input type="checkbox" class="task-list-item-checkbox" id="task-item-1" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-1"> 学习js双精度换算原理以及小数丢失精度原因</label></p></li><li class="task-list-item"><p><input type="checkbox" class="task-list-item-checkbox" id="task-item-2" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-2"> 了解小数精度丢失带来的bug以及处理方案</label></p></li><li class="task-list-item"><p><input type="checkbox" class="task-list-item-checkbox" id="task-item-3" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-3"> 学习整数、小数、整数＋小数的二进制、十进制互相转换</label></p></li></ul><h2 id="学习字节、字、位、比特的概念和关系" tabindex="-1"><a class="header-anchor" href="#学习字节、字、位、比特的概念和关系" aria-hidden="true">#</a> 学习字节、字、位、比特的概念和关系</h2>',3),F={href:"https://blog.csdn.net/qq_28351609/article/details/84574349",target:"_blank",rel:"noopener noreferrer"},K=t('<ul><li><p>位：bit 中文谐音 比特 1bit = 1位 = 1比特；位是计算机中数据的最小存储单位，表示二进制位。1位只能表示一个二进制的0或1。</p><blockquote><p>8位能表示的最大的无符号数据量是：</p><p>二进制：11111111</p><p>十进制：利用换算公式 2^8 = 256</p></blockquote></li><li><p>字节：byte 中文谐音 拜特 1byte = 1字节 = 8比特；字节是计算机中数据处理的基本单位。</p></li><li><p>字：word ；1个字由多个字节构成，计算机的字长决定了其CPU一次操作处理实际位数的多少，由此可见计算机的字长越大，其性能越优越。</p></li></ul><h2 id="学习js双精度换算原理以及小数丢失精度原理" tabindex="-1"><a class="header-anchor" href="#学习js双精度换算原理以及小数丢失精度原理" aria-hidden="true">#</a> 学习js双精度换算原理以及小数丢失精度原理</h2><blockquote><p>js采用的是IEEE754的双精度浮点标准存储Number类型的值，包括整数、小数、整数+小数。</p><p>定点数与浮点数的定义和区别：</p><figure><img src="'+c+'" alt="image-20230410145407940" tabindex="0" loading="lazy"><figcaption>image-20230410145407940</figcaption></figure><figure><img src="'+r+'" alt="image-20230410145605696" tabindex="0" loading="lazy"><figcaption>image-20230410145605696</figcaption></figure><figure><img src="'+d+'" alt="image-20230410150048918" tabindex="0" loading="lazy"><figcaption>image-20230410150048918</figcaption></figure><p>对比总结：浮点数表示范围更广、运算复杂度更高，但精度没那么高。</p></blockquote><h3 id="js双精度换算原理" tabindex="-1"><a class="header-anchor" href="#js双精度换算原理" aria-hidden="true">#</a> js双精度换算原理：</h3><blockquote><p>转换流程：十进制 转 普通二进制 转 二进制科学计数法 转 IEEE 754标准浮点数的二进制和十进制</p></blockquote><ul><li><p>十进制：</p><p>以十进制0.1为例</p></li><li><p>普通二进制：</p><figure><img src="'+u+'" alt="image-20230410163710284" tabindex="0" loading="lazy"><figcaption>image-20230410163710284</figcaption></figure><p>0.1转成二进制是一个无限循环的数，它会无限循环0011。</p></li><li><p>二进制科学计数法：</p><p>规格化的二进制科学计数表示法要把小数点移动到1的后面，得到的指数就是<strong>偏移量</strong>。</p><p><code>0.0001100110011001100110011001100110011001100110011001101....</code>向右移动4位得出二进制科学计数法表示：<code>1.100110011001100110011001100110011001100110011001101.... * 2^-4</code></p><p><strong>偏移量 = -4</strong></p></li><li><p>IEEE 754标准浮点数二进制：</p><blockquote><p>涉及公式：</p><p>阶数 = (2^e-1) - 1 其中e是指数域的值 双精度指数域的值是11；(2^11-1) - 1</p><p>指数位 = 阶数 + 偏移量</p></blockquote><p>不同精度的浮点数指标：</p><figure><img src="'+m+'" alt="image-20230410165619195" tabindex="0" loading="lazy"><figcaption>image-20230410165619195</figcaption></figure><p>浮点数二进制组成：</p><p>符号位与二进制一致；0 正数 1 负数</p><figure><img src="'+k+'" alt="image-20230410165832562" tabindex="0" loading="lazy"><figcaption>image-20230410165832562</figcaption></figure><p><strong>指数位计算：</strong></p><p>指数位 = 阶数 + 偏移量 = ( (2^11-1) - 1 )+ (-4) = 1019</p><p>10进制1019 转 2进制得到：1111111011 由于双精度指数域位数要求是11位，最高位补0。最终<strong>指数位 = 01111111011</strong></p><p><strong>尾数位计算：</strong></p><p>小数位为100110011001......，因为小数位只能保留52位，第53位为1故进1。</p><p><strong>双精度浮点数二进制表示：</strong></p><figure><img src="'+v+'" alt="image-20230410171136267" tabindex="0" loading="lazy"><figcaption>image-20230410171136267</figcaption></figure></li><li><p>IEEE 754标准浮点数十进制：</p><blockquote><p>2转10公式：<img src="'+b+'" alt="image-20230410174050379" loading="lazy"></p><p>s是符号位 0正数 1负数；e是指数位的十进制；M是二进制尾数位的数</p></blockquote><p>e = 01111111011 转十进制 = 1019</p><p>s = 0</p><p><code>(-1)^0 * 2^1019-1023 * (1+1*2^-1+0*2^-2+0*2^-3+1*2^-4……)</code></p><p>以上计算结果是：Decimal(exact)是0.1的双精度浮点数的十进制表示</p><figure><img src="'+g+'" alt="image-20230410180030398" tabindex="0" loading="lazy"><figcaption>image-20230410180030398</figcaption></figure></li></ul><h4 id="通过以上原理知道0-1-0-2-0-3的原因" tabindex="-1"><a class="header-anchor" href="#通过以上原理知道0-1-0-2-0-3的原因" aria-hidden="true">#</a> 通过以上原理知道0.1+0.2 != 0.3的原因：</h4><p>0.1和0.2转换成双精度浮点数二进制：</p><figure><img src="'+h+'" alt="image-20230410212832725" tabindex="0" loading="lazy"><figcaption>image-20230410212832725</figcaption></figure><p>双精度浮点数相加：</p><figure><img src="'+f+'" alt="image-20230410221435947" tabindex="0" loading="lazy"><figcaption>image-20230410221435947</figcaption></figure><figure><img src="'+x+'" alt="image-20230410221922604" tabindex="0" loading="lazy"><figcaption>image-20230410221922604</figcaption></figure><p>结果转十进制：</p><figure><img src="'+y+'" alt="image-20230410222034072" tabindex="0" loading="lazy"><figcaption>image-20230410222034072</figcaption></figure><h3 id="小数丢失精度原因" tabindex="-1"><a class="header-anchor" href="#小数丢失精度原因" aria-hidden="true">#</a> 小数丢失精度原因：</h3><ul><li>小数在转换过程中发生了两次精度丢失，第一次——十进制转普通二进制，由于得到的是无限循环得到的值不可能是精确的；第二次——二进制科学计数法 转 IEEE 754标准浮点数的二进制，因为双精度浮点数的尾数位长52，截取之前得到的二进制数位长，再次发生精度丢失。</li></ul><h2 id="了解小数精度丢失带来的bug以及处理方案" tabindex="-1"><a class="header-anchor" href="#了解小数精度丢失带来的bug以及处理方案" aria-hidden="true">#</a> 了解小数精度丢失带来的bug以及处理方案</h2><ul><li>造成页面数值混乱BUG：</li></ul><figure><img src="'+_+`" alt="image-20230410222636326" tabindex="0" loading="lazy"><figcaption>image-20230410222636326</figcaption></figure><ul><li><p>解决方案：</p><p>保留小数点，四舍五入取值。</p><p>具体：比如保留2位小数的情况，number转换string，利用API把判断小数点后第三位的值，知道是否四舍五入。利用Api*100小数点后移两位后取整。根据之前四舍五入的情况选择是否+1，再/100前移两位得到结果。</p></li><li><p>解决方案代码：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token class-name">Number</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toFixed</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">length</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>length <span class="token operator">||</span> <span class="token punctuation">(</span>length <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> length <span class="token operator">&gt;</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> carry <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//存放进位标志</span>
    <span class="token keyword">var</span> num<span class="token punctuation">,</span>multiple<span class="token punctuation">;</span> <span class="token comment">//num为原浮点数放大multiple倍后的数，multiple为10的length次方</span>
    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span> <span class="token comment">//将调用该方法的数字转为字符串</span>
    <span class="token keyword">var</span> dot <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//找到小数点的位置</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>dot <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>dot<span class="token operator">+</span>length<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&gt;=</span><span class="token number">5</span><span class="token punctuation">)</span> carry<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//找到要进行舍入的数的位置，手动判断是否大于等于5，满足条件进位标志置为1</span>
    multiple <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置浮点数要扩大的倍数</span>
    num <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">*</span> multiple<span class="token punctuation">)</span> <span class="token operator">+</span> carry<span class="token punctuation">;</span> <span class="token comment">//去掉舍入位后的所有数，然后加上我们的手动进位数</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> num<span class="token operator">/</span>multiple <span class="token operator">+</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span> <span class="token comment">//将进位后的整数再缩小为原浮点数</span>
    <span class="token comment">/*
    * 处理进位后无小数
    */</span>
    dot <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>dot <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> length<span class="token operator">!==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        result <span class="token operator">+=</span> <span class="token string">&#39;.&#39;</span><span class="token punctuation">;</span>
        dot <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/*
    * 处理多次进位
    */</span>
    <span class="token keyword">var</span> len <span class="token operator">=</span> result<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token punctuation">(</span>dot<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>len <span class="token operator">&lt;</span> length<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length <span class="token operator">-</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            result <span class="token operator">+=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 思考，整数情况下。</span>
<span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token number">9999999998.9999949999999999999999999999999999999</span><span class="token punctuation">;</span>
<span class="token comment">// const num = -3.000;</span>
<span class="token keyword">const</span> num2 <span class="token operator">=</span> num<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="学习整数、小数、整数-小数的二进制、十进制互相转换" tabindex="-1"><a class="header-anchor" href="#学习整数、小数、整数-小数的二进制、十进制互相转换" aria-hidden="true">#</a> 学习整数、小数、整数＋小数的二进制、十进制互相转换</h2><blockquote><p>10转2：</p><p>整数部分：除2取余法；小数部分：乘2取整法</p><p>2转10：</p><p>按权相加法；</p></blockquote><p><strong>除2取余法：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>例：将十进制的168转换为二进制

得出结果 将十进制的168转换为二进制，（10101000）

分析:

第一步，将168除以2,商84,余数为0。

第二步，将商84除以2，商42余数为0。

第三步，将商42除以2，商21余数为0。

第四步，将商21除以2，商10余数为1。

第五步，将商10除以2，商5余数为0。

第六步，将商5除以2，商2余数为1。

第七步，将商2除以2，商1余数为0。

第八步，将商1除以2，商0余数为1。

第九步，读数，因为最后一位是经过多次除以2才得到的，因此它是最高位，读数字从最后的余数向前读，即10101000
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>乘2取整法：</strong></p><p>即将小数部分乘以2，然后取整数部分，剩下的小数部分继续乘以2，然后取整数部分，剩下的小数部分又乘以2，一直取到小数部分为零为止。如果永远不能为零，就同十进制数的四舍五入一样，按照要求保留多少位小数时，就根据后面一位是0还是1，取舍，如果是零，舍掉，如果是1，向入一位。换句话说就是0舍1入。读数要从前面的整数读到后面的整数。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>下面举例：

例1：将0.125换算为二进制

得出结果：将0.125换算为二进制（0.001）

分析:

第一步，将0.125乘以2，得0.25,则整数部分为0,小数部分为0.25。

第二步, 将小数部分0.25乘以2,得0.5,则整数部分为0,小数部分为0.5。

第三步, 将小数部分0.5乘以2,得1.0,则整数部分为1,小数部分为0.0。

第四步,读数,从第一位读起,读到最后一位,即为0.001。

例2：将0.45转换为二进制（保留到小数点第四位）

大家从上面步骤可以看出，当第五次做乘法时候，得到的结果是0.4，那么小数部分继续乘以2，得0.8，0.8又乘以2的，到1.6这样一直乘下去，最后不可能得到小数部分为零，因此，这个时候只好学习十进制的方法进行四舍五入了，但是二进制只有0和1两个，于是就出现0舍1入。这个也是计算机在转换中会产生误差，但是由于保留位数很多，精度很高，所以可以忽略不计。

那么，我们可以得出结果将0.45转换为二进制约等于0.0111

上面介绍的方法是十进制转换为为二进制的方法，需要大家注意的是：

十进制转换为二进制，需要分成整数和小数两个部分分别转换。

当转换整数时，用的除2取余法，而转换小数时候，用的是乘2取整法。

注意他们的读数方向。

因此，我们从上面的方法，我们可以得出十进制数168.125转换为二进制为10101000.001
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>按权相加法：</strong></p><p>即将二进制每位上的数乘以权，然后相加之和即是十进制数。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>将二进制数101.101转换为十进制数。

得出结果：（101.101）2=(5.625)10
1*2^2 + 0*2^1 + 1*2^0 = 5
1*2^-1 + 0*2^-2 + 1*2^-3 = 0.625
5 + 0.625 = 5.625
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,30);function G(Q,C){const a=p("ExternalLinkIcon");return l(),o("div",null,[w,j,n("p",null,[n("a",q,[s("https://github.com/Tandayuan/js-float-study"),e(a)])]),E,n("blockquote",null,[n("p",null,[n("a",V,[s("0.1+0.2等于0.3吗"),e(a)])]),n("p",null,[n("a",S,[s("计算机组成原理 | 为什么浮点数运算不精确？（阿里笔试）"),e(a)])]),n("p",null,[n("a",Y,[s("普通进制转换工具网"),e(a)])]),n("p",null,[n("a",U,[s("IEEE754标准的浮点数转换网"),e(a)])])]),I,n("blockquote",null,[n("p",null,[s("参考文章："),n("a",F,[s("学习字节、字、位、比特的概念和关系"),e(a)])])]),K])}const z=i(A,[["render",G],["__file","index.html.vue"]]);export{z as default};
